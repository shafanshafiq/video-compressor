<!DOCTYPE html>
<html lang="en">
<head><meta charset="UTF-8"><title>Debug Compressor</title></head>
<body>
  <input type="file" id="videoFile" accept="video/*">
  <div id="dropZone" style="border:2px dashed #ccc; padding:20px;">Drop video here</div>
  <button id="compressBtn" disabled>Compress Video</button>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const videoFile = document.getElementById('videoFile');
      const compressBtn = document.getElementById('compressBtn');
      const dropZone = document.getElementById('dropZone');
      let selectedFile = null;

      videoFile.addEventListener('change', e => {
        selectedFile = e.target.files[0];
        compressBtn.disabled = !selectedFile;
        console.log('picker selected:', selectedFile?.name);
      });

      dropZone.addEventListener('dragover', e => e.preventDefault());
      dropZone.addEventListener('drop', e => {
        e.preventDefault();
        const file = e.dataTransfer.files[0];
        if (file && file.type.startsWith('video/')) {
          selectedFile = file;
          const dt = new DataTransfer();
          dt.items.add(file);
          videoFile.files = dt.files;
          compressBtn.disabled = false;
          console.log('dropped:', selectedFile.name);
        }
      });

      compressBtn.addEventListener('click', () => {
        console.log('button clicked:', selectedFile?.name);
        alert('Compress button is working: ' + selectedFile.name);
      });
    });
  </script>
</body>
</html>

